<%- include('../partials/header', { title: `Cliente ${cliente.nombre} ${cliente.apellidos}` }) %>

<div class="container-fluid px-4 mt-4">
  <div class="card border-0 shadow-sm">
    <div class="card-header bg-primary text-white py-3 d-flex align-items-center justify-content-between">
      <h2 class="mb-0">
        <i class="fas fa-user me-2"></i>Detalles del Cliente
      </h2>
    </div>

    <div class="card-body">
      <!-- Layout de 2 columnas: Foto grande a la izquierda, info a la derecha -->
      <div class="row align-items-start">
        <!-- Foto del cliente -->
        <div class="col-md-4 text-center">
          <% if (cliente.foto) { %>
            <img src="<%= cliente.foto %>" alt="Foto de <%= cliente.nombre %>" class="img-thumbnail shadow rounded" style="max-width: 100%; height: auto; object-fit: cover;">
          <% } else { %>
            <div class="bg-secondary text-white d-flex align-items-center justify-content-center rounded" style="width: 100%; height: 300px;">
              <i class="fas fa-user fa-5x"></i>
            </div>
          <% } %>

          <h4 class="mt-3 mb-0"><%= cliente.nombre %> <%= cliente.apellidos %></h4>
          <% if (cliente.apodo) { %>
            <p class="text-muted"><i class="fas fa-user-tag me-1"></i>Apodo: <%= cliente.apodo %></p>
          <% } %>
        </div>

        <!-- Información del cliente -->
        <div class="col-md-8">
          <div class="row">
            <!-- Info Personal -->
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-header bg-light">
                  <h5 class="mb-0"><i class="fas fa-id-card me-2"></i>Información Personal</h5>
                </div>
                <div class="card-body">
                  <table class="table table-sm table-borderless mb-0">
                    <tbody>
                      <tr>
                        <th width="40%">Cédula:</th>
                        <td><%= cliente.cedula || 'No especificada' %></td>
                      </tr>
                      <tr>
                        <th>Profesión:</th>
                        <td><%= cliente.profesion || 'No especificada' %></td>
                      </tr>
                      <tr>
                        <th>Estado:</th>
                        <td>
                          <span class="badge <%= cliente.estado === 'activo' ? 'bg-success' : 'bg-danger' %>">
                            <%= cliente.estado === 'activo' ? 'Activo' : 'Inactivo' %>
                          </span>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- Info Contacto -->
            <div class="col-md-6 mb-4">
              <div class="card h-100">
                <div class="card-header bg-light">
                  <h5 class="mb-0"><i class="fas fa-address-book me-2"></i>Información de Contacto</h5>
                </div>
                <div class="card-body">
                  <table class="table table-sm table-borderless mb-0">
                    <tbody>
                      <tr>
                        <th width="40%">Tel. Principal:</th>
                        <td>
                          <% if (cliente.telefono1) { %>
                            <a href="tel:<%= cliente.telefono1 %>"><%= cliente.telefono1 %></a>
                          <% } else { %>
                            No especificado
                          <% } %>
                        </td>
                      </tr>
                      <tr>
                        <th>Tel. Secundario:</th>
                        <td>
                          <% if (cliente.telefono2) { %>
                            <a href="tel:<%= cliente.telefono2 %>"><%= cliente.telefono2 %></a>
                          <% } else { %>
                            No especificado
                          <% } %>
                        </td>
                      </tr>
                      <tr>
                        <th>Dirección:</th>
                        <td><%= cliente.direccion || 'No especificada' %></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- Acciones -->
          <div class="d-flex justify-content-between border-top pt-3 mt-2">
            <a href="/clientes" class="btn btn-outline-secondary">
              <i class="fas fa-arrow-left me-1"></i> Volver al Listado
            </a>
            <div>
              <a href="/clientes/<%= cliente.id %>/edit" class="btn btn-warning me-2">
                <i class="fas fa-edit me-1"></i> Editar
              </a>
              <!-- <a href="/clientes/<%= cliente.id %>/prestamos" class="btn btn-primary">
                <i class="fas fa-hand-holding-usd me-1"></i> Ver Préstamos
              </a> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>
