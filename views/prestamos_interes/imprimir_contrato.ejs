<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contrato de Préstamo - Financiera Caribe Azul</title>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
 
 <style>
  /* Reset básico */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  display: flex;
  min-height: 100vh;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* Sidebar completo */
.sidebar {
  position: fixed;
  left: 0;
  top: 0;
  width: 250px;
  height: 100vh;
  min-height: 650px;
  background-color: #87ceeb; /* azul cielo */
  color: white;
  transition: width 0.3s ease;
  overflow-x: hidden;
  z-index: 100;
}

.sidebar.collapsed {
  width: 70px;
}

.sidebar .toggle-btn {
  display: flex;
  justify-content: flex-end;
  padding: 10px;
  cursor: pointer;
}

.sidebar .toggle-btn i {
  font-size: 20px;
  color: white;
}

.sidebar ul {
  list-style: none;
  padding: 20px 0;
}

.sidebar ul li {
  display: flex;
  align-items: center;
  padding: 15px 20px;
  transition: all 0.2s ease;
  cursor: pointer;
}

.sidebar ul li:hover {
  background-color: #5fb0d7;
  border-left: 4px solid #fff;
  box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.3);
}

.sidebar ul li i {
  font-size: 18px;
  margin-right: 15px;
  transition: all 0.3s ease;
}

.sidebar.collapsed ul li span {
  display: none;
}

.sidebar.collapsed ul li i {
  margin: 0 auto;
}

/* Contenido principal */
.main-content {
  margin-left: 250px;
  padding: 20px;
  transition: margin-left 0.3s ease;
  width: 100%;
}

.sidebar.collapsed ~ .main-content {
  margin-left: 70px;
}

/* Footer dentro del sidebar */
.sidebar .footer {
  position: absolute;
  bottom: 10px;
  left: 0;
  width: 100%;
  text-align: center;
  font-size: 12px;
  color: #f0f0f0;
  padding: 10px;
}

/* Responsive */
@media (max-width: 768px) {
  .sidebar {
    position: absolute;
    height: 100%;
    z-index: 1000;
    transform: translateX(0);
  }

  .sidebar.collapsed {
    transform: translateX(-100%);
  }

  .main-content {
    margin-left: 0;
  }

  .sidebar.collapsed ~ .main-content {
    margin-left: 0;
  }
}


 </style>
</head>
<body>

  <div class="contract-container">
    <div class="title">Contrato de Solicitud de Préstamo - Interés</div>

    <div class="section">
      <h3 class="section-heading">Información del Cliente</h3>
      <table class="data-table">
        <thead>
          <tr>
            <th>Campo</th>
            <th>Valor</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Nombre completo</td>
            <td><%= prestamo.cliente_nombre %> <%= prestamo.cliente_apellidos %></td>
          </tr>
          <tr>
            <td>Cédula</td>
            <td><%= prestamo.cliente_cedula %></td>
          </tr>
          <tr>
            <td>Teléfono</td>
            <td><%= prestamo.cliente_telefono1 %></td>
          </tr>
          <tr>
            <td>Dirección</td>
            <td><%= prestamo.cliente_direccion %></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="section">
      <h3 class="section-heading">Detalles del Préstamo</h3>
      <table class="data-table">
        <thead>
          <tr>
            <th>Campo</th>
            <th>Valor</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Fecha de Solicitud</td>
            <td><%= prestamo.created_at ? new Date(prestamo.created_at).toLocaleDateString('es-DO') : 'Sin fecha' %></td>
          </tr>
          <tr>
            <td>Monto Aprobado</td>
            <td>RD$ <%= Number(prestamo.monto_aprobado || 0).toLocaleString('es-DO', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) %></td>
          </tr>
          <tr>
            <td>Tasa de Interés</td>
            <td>
                <% if (prestamo.interes_manual && prestamo.interes_manual > 0) { %>
                    RD$ <%= Number(prestamo.interes_manual).toLocaleString('es-DO', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) %>
                <% } else { %>
                    <%= Number(prestamo.interes_porcentaje).toLocaleString('es-DO', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) %>% Mensual
                <% } %>
            </td>
          </tr>
          <tr>
            <td>Frecuencia de Interés</td>
            <td><%= prestamo.frecuencia_interes === 'quincenal' ? 'Quincenal' : 'Mensual' %></td>
          </tr>
          <tr>
            <td>Plazo</td>
            <td><%= prestamo.plazo_meses %> meses</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="section">
      <h3 class="section-heading">Términos y Condiciones</h3>
      <p class="commitment-text">
        Yo, <strong><%= prestamo.cliente_nombre %> <%= prestamo.cliente_apellidos %></strong>, con cédula de identidad y electoral número <%= prestamo.cliente_cedula %>,
        por medio del presente, me comprometo formalmente a pagar el préstamo aprobado bajo las condiciones establecidas.
        La tasa de interés se aplicará sobre el capital pendiente de pago de forma <%= prestamo.frecuencia_interes === 'quincenal' ? 'quincenal' : 'mensual' %>.
        En caso de no realizar el pago del interés acumulado en la fecha de corte, reconozco y acepto un recargo por mora del 
        <strong>5% sobre el capital pendiente</strong> a partir del segundo día posterior al vencimiento. Este contrato representa mi consentimiento expreso y mi compromiso inquebrantable
        con las obligaciones financieras adquiridas.

        <br><br>
        Asimismo, reconozco que de persistir la falta de pago, me comprometo a responder con cualquier bien de mi propiedad (muebles, inmuebles, vehículos u otros) como garantía para saldar la deuda, autorizando expresamente a Financiera Caribe Azul a iniciar las acciones 
        legales y/o judiciales correspondientes para recuperar el monto adeudado.
      </p>
    </div>

    <div class="signature-section">
      <div class="signature-block">
        <div class="signature-line"></div>
        <p class="signature-label">Firma del Cliente</p>
        <p class="signature-label">Fecha: <%= new Date().toLocaleDateString('es-DO') %></p>
      </div>
      <div class="signature-block">
        <div class="signature-line"></div>
        <p class="signature-label">Firma de Ciwita Financiera</p>
        <p class="signature-label">Fecha: <%= new Date().toLocaleDateString('es-DO') %></p>
      </div>
    </div>
  </div>
<script>
  window.onload = function () {
    window.print();
  };
  window.onafterprint = function () {
    window.close();
  };
</script>
</body>
</html>